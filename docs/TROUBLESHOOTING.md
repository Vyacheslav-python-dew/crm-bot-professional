# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã —Ä–µ—à–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.

## üö® –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
docker-compose ps

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
text

Name                          Command              State    Ports
crm-bot-professional-bot-1      python src/main.py          Up
crm-bot-professional-postgres-1 docker-entrypoint.sh postgres Up

–ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã:
bash

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose restart

# –ò–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏
docker-compose down
docker-compose up -d

ü§ñ –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
1. –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

–£–±–µ–¥–∏—Å—å —á—Ç–æ –≤ —Ñ–∞–π–ª–µ .env –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω:
env

BOT_TOKEN=–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å

–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω:

    –ù–∞–π–¥–∏ @BotFather –≤ Telegram

    –û—Ç–ø—Ä–∞–≤—å /mybots

    –í—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞

    –ù–∞–∂–º–∏ API Token

2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
bash

docker-compose logs bot

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
text

‚úÖ –ë–æ—Ç @–ò–º—è–¢–≤–æ–µ–≥–æ–ë–æ—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!

3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –Ω–∞–ø–∏—Å–∞–ª –±–æ—Ç—É

    –ù–∞–π–¥–∏ –±–æ—Ç–∞ –ø–æ username –≤ –ø–æ–∏—Å–∫–µ Telegram

    –ù–∞–ø–∏—à–∏ –µ–º—É –ø–µ—Ä–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º /start

    –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º

üóÑÔ∏è –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
–ë–∞–∑–∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–∏–ª–∞—Å—å:
bash

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose logs postgres

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
docker-compose restart postgres

–ü—Ä–æ–ø–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ:
bash

# –°–¥–µ–ª–∞–π –±—ç–∫–∞–ø
docker-compose exec postgres pg_dump -U crm_user crm_bot > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏ –±–∞–∑—É
docker-compose down
docker-compose up -d

üìù –û—à–∏–±–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞"

–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
text

–ò–º—è –§–∞–º–∏–ª–∏—è | –¢–µ–ª–µ—Ñ–æ–Ω | Email | –ó–∞–º–µ—Ç–∫–∏

–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞:
text

–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ | +79998887766 | anna@mail.ru | –ó–∞–∫–∞–∑—ã–≤–∞–ª–∞ –¥–∏–∑–∞–π–Ω –≤–∏–∑–∏—Ç–æ–∫

"–ö–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞

–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –∫–ª–∏–µ–Ω—Ç–∞

–†–µ—à–µ–Ω–∏–µ:

    –ü–æ—Å–º–æ—Ç—Ä–∏ —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤: /clients

    –ù–∞–π–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –∫–ª–∏–µ–Ω—Ç–∞

    –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç ID –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞

üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
–î–æ–∫–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
bash

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
docker --version
docker-compose --version

# –ï—Å–ª–∏ –Ω–µ—Ç - —É—Å—Ç–∞–Ω–æ–≤–∏ Docker

–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
bash

# –ü–æ—á–∏—Å—Ç–∏ –Ω–µ–Ω—É–∂–Ω—ã–µ –æ–±—Ä–∞–∑—ã
docker system prune

# –£–¥–∞–ª–∏ –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
docker system prune -a

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
bash

# –û—Å—Ç–∞–Ω–æ–≤–∏ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
docker-compose down

# –°–∫–∞—á–∞–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull

# –ó–∞–ø—É—Å—Ç–∏ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
docker-compose up -d

üìû –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ
–°–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
bash

# –í–µ—Ä—Å–∏—è Docker
docker --version
docker-compose --version

# –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs bot

# –õ–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  
docker-compose logs postgres

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

–ù–∞–ø–∏—à–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É:

    –û–ø–∏—à–∏ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ

    –ü—Ä–∏–ª–æ–∂–∏ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

    –£–∫–∞–∂–∏ —Å–≤–æ—é –û–° –∏ –≤–µ—Ä—Å–∏—é Docker

üõ°Ô∏è –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:
bash

# –†–∞–∑ –≤ –º–µ—Å—è—Ü –¥–µ–ª–∞–π –±—ç–∫–∞–ø
docker-compose exec postgres pg_dump -U crm_user crm_bot > backup_$(date +%Y%m%d).sql

# –°–ª–µ–¥–∏ –∑–∞ —Å–≤–æ–±–æ–¥–Ω—ã–º –º–µ—Å—Ç–æ–º
df -h

# –û–±–Ω–æ–≤–ª—è–π –æ–±—Ä–∞–∑—ã
docker-compose pull

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã:
bash

# –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –ø—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏
docker-compose logs bot --tail=20

# –°–ª–µ–¥–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

–ü–æ–º–Ω–∏: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º!
bash

docker-compose restart